<?xml version="1.0" encoding="UTF-8"?>
<quiz>
<question id="26297">
        <parent>0</parent>
        <name>22.3.2.11 Orthogonal matrices</name>
        <questiontext>&lt;p class="HELM_exercise"&gt;Exercise&lt;/p&gt;
&lt;p&gt;Determine \({@u@}\) and \({@v@}\) so that the matrices \[A={@a_mat@},\qquad B={@b_mat@}\] are orthogonal. Then verify that \(A^TA=AA^T=I\) and \(B^TB=BB^T=I\) i.e. that \(A^T=A^{-1}\) and \(B^T=B^{-1}\).&lt;/p&gt;
&lt;p&gt;\({@u@}=\) [[input:ans_a]] [[validation:ans_a]] &amp;nbsp;&amp;nbsp;&amp;nbsp; \({@v@}=\) [[input:ans_b]] [[validation:ans_b]]&lt;/p&gt;
&lt;p&gt;[[feedback:prt_a]]&amp;nbsp;[[feedback:prt_b]]&lt;br&gt;&lt;/p&gt;
&lt;p&gt;(Note: a square root can be entered with &lt;code&gt;sqrt()&lt;/code&gt;; for example \({@sqrt(5)@}\) would be entered as &lt;code&gt;sqrt(5)&lt;/code&gt;.)&lt;/p&gt;</questiontext>
        <questiontextformat>1</questiontextformat>
        <generalfeedback>&lt;p&gt;&lt;strong&gt;Matrix \(A\)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Approach 1&lt;/i&gt;: For \(A\) to be orthogonal, its columns must be orthogonal to each other. This means \[{@matrix([0])@} = {@transpose(col(a_mat,1))@}{@col(a_mat,2)@} = {@(simp:false,a_dotprod)@} = {@(simp:true,a_dotprod)@}\] from which \({@u@}={@a_mat[1,1]@}\).
&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Approach 2&lt;/i&gt;: From the above description of \(2\times2\) orthogonal matrices, we know they are all of the form \({@matrix([cos(theta),sin(theta)],[-sin(theta),cos(theta)])@}\) for some real number \({@theta@}\). In particular, their diagonal entries
    are the same, hence \({@u@}={@a_mat[1,1]@}\).
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Matrix \(B\)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;
    The columns of the matrix \(B\) are orthogonal to each other for any choice of \({@v@}\). However each column of an orthogonal matrix has unit magnitude. For the second column of \(B\), this leads to \[1^2={@b_mat[1,2]@}^2+{@b_mat[2,2]@}^2+{@b_mat[3,2]@}^2
    = {@b_mat[1,2]^2+b_mat[2,2]^2+b_mat[3,2]^2@}, \] thus \({@v@} =\pm 1\).
&lt;/p&gt;</generalfeedback>
        <generalfeedbackformat>1</generalfeedbackformat>
        <defaultmark>1.0000000</defaultmark>
        <penalty>0.1000000</penalty>
        <qtype>stack</qtype>
        <length>1</length>
        <stamp>stack2.maths.ed.ac.uk+200701120116+IalcaU</stamp>
        <version>stack-back1.maths.ed.ac.uk+210914114424+b3Nr7N</version>
        <hidden>0</hidden>
        <timecreated>1593604876</timecreated>
        <timemodified>1631619864</timemodified>
        <createdby>642</createdby>
        <modifiedby>642</modifiedby>
        <idnumber>$@NULL@$</idnumber>
        <plugin_qtype_stack_question>
          <stackoptions id="17816">
            <stackversion>2021072200</stackversion>
            <questionvariables>angles:[%pi*[1/6,1/3,2/3,5/6,7/6,4/3,5/3,11/6], %pi*[1/4,3/4,5/4,7/4]];
u:a; v:b;
ind2:rand(2)+1; a_ang: rand(angles[ind2]); b_ang: rand(angles[3-ind2]);
a_mat: matrix([cos(a_ang),sin(a_ang)],[-sin(a_ang),u]);
b_mat: matrix([cos(b_ang),0,sin(b_ang)],[0,v,0],[-sin(b_ang),0,cos(b_ang)]);

/* preparing for printing the solution */
dotprod_comp1_list(v1,v2):=matrix([ lreduce("+",map("*",v1,v2)) ]);
col_list(m,i):=first(args(transpose(col(m,i))));
simp:false;
a_dotprod:dotprod_comp1_list(col_list(a_mat,1),col_list(a_mat,2));
simp:true;
</questionvariables>
            <specificfeedback/>
            <specificfeedbackformat>1</specificfeedbackformat>
            <questionnote>\(A = {@a_mat@}, B = {@b_mat@}, \qquad a = {@cos(a_ang)@}, b = 1 \)</questionnote>
            <questionsimplify>1</questionsimplify>
            <assumepositive>0</assumepositive>
            <assumereal>0</assumereal>
            <prtcorrect>&lt;span style="font-size: 1.5em; color:green;"&gt;&lt;i class="fa fa-check"&gt;&lt;/i&gt;&lt;/span&gt; Correct answer, well done.</prtcorrect>
            <prtcorrectformat>1</prtcorrectformat>
            <prtpartiallycorrect>&lt;span style="font-size: 1.5em; color:orange;"&gt;&lt;i class="fa fa-adjust"&gt;&lt;/i&gt;&lt;/span&gt; Your answer is partially correct.</prtpartiallycorrect>
            <prtpartiallycorrectformat>1</prtpartiallycorrectformat>
            <prtincorrect>&lt;span style="font-size: 1.5em; color:red;"&gt;&lt;i class="fa fa-times"&gt;&lt;/i&gt;&lt;/span&gt; Incorrect answer.</prtincorrect>
            <prtincorrectformat>1</prtincorrectformat>
            <multiplicationsign>dot</multiplicationsign>
            <sqrtsign>1</sqrtsign>
            <complexno>i</complexno>
            <inversetrig>cos-1</inversetrig>
            <logicsymbol>lang</logicsymbol>
            <matrixparens>[</matrixparens>
            <variantsselectionseed/>
          </stackoptions>
          <stackinputs>
            <stackinput id="41884">
              <name>ans_a</name>
              <type>numerical</type>
              <tans>cos(a_ang)</tans>
              <boxsize>10</boxsize>
              <strictsyntax>1</strictsyntax>
              <insertstars>0</insertstars>
              <syntaxhint/>
              <syntaxattribute>0</syntaxattribute>
              <forbidwords/>
              <allowwords/>
              <forbidfloat>1</forbidfloat>
              <requirelowestterms>0</requirelowestterms>
              <checkanswertype>1</checkanswertype>
              <mustverify>1</mustverify>
              <showvalidation>3</showvalidation>
              <options/>
            </stackinput>
            <stackinput id="41885">
              <name>ans_b</name>
              <type>numerical</type>
              <tans>1</tans>
              <boxsize>10</boxsize>
              <strictsyntax>1</strictsyntax>
              <insertstars>0</insertstars>
              <syntaxhint/>
              <syntaxattribute>0</syntaxattribute>
              <forbidwords/>
              <allowwords/>
              <forbidfloat>1</forbidfloat>
              <requirelowestterms>0</requirelowestterms>
              <checkanswertype>1</checkanswertype>
              <mustverify>1</mustverify>
              <showvalidation>3</showvalidation>
              <options/>
            </stackinput>
          </stackinputs>
          <stackprts>
            <stackprt id="36291">
              <name>prt_a</name>
              <value>1.0000000</value>
              <autosimplify>1</autosimplify>
              <feedbackstyle>1</feedbackstyle>
              <feedbackvariables>simp:false;
a_ans_dotprod:dotprod_comp1_list([a_mat[1,1],a_mat[2,1]],[a_mat[1,2],ans_a]);
simp:true;</feedbackvariables>
              <stackprtnodes>
                <stackprtnode id="54314">
                  <nodename>0</nodename>
                  <answertest>AlgEquiv</answertest>
                  <sans>ans_a</sans>
                  <tans>cos(a_ang)</tans>
                  <testoptions/>
                  <quiet>1</quiet>
                  <truescoremode>=</truescoremode>
                  <truescore>1.0000000</truescore>
                  <truepenalty>$@NULL@$</truepenalty>
                  <truenextnode>-1</truenextnode>
                  <trueanswernote>prt_a-1-T</trueanswernote>
                  <truefeedback/>
                  <truefeedbackformat>1</truefeedbackformat>
                  <falsescoremode>=</falsescoremode>
                  <falsescore>0.0000000</falsescore>
                  <falsepenalty>$@NULL@$</falsepenalty>
                  <falsenextnode>-1</falsenextnode>
                  <falseanswernote>prt_a-1-F</falseanswernote>
                  <falsefeedback>&lt;p&gt;The columns of \(A\) need to be orthogonal, but with \({@u@} = {@ans_a@}\), we have \[{@transpose(col(a_mat,1))@}{@matrix([a_mat[1,2]],[ans_a])@}={@(simp:false,make_multsgn("cross"),a_ans_dotprod)@} = {@(simp:true,a_ans_dotprod)@} \neq {@matrix([0])@}.\]&lt;/p&gt;</falsefeedback>
                  <falsefeedbackformat>1</falsefeedbackformat>
                </stackprtnode>
              </stackprtnodes>
            </stackprt>
            <stackprt id="36292">
              <name>prt_b</name>
              <value>1.0000000</value>
              <autosimplify>1</autosimplify>
              <feedbackstyle>1</feedbackstyle>
              <feedbackvariables>b_ans_check:is(member(ans_b,[1,-1]));</feedbackvariables>
              <stackprtnodes>
                <stackprtnode id="54315">
                  <nodename>0</nodename>
                  <answertest>CasEqual</answertest>
                  <sans>b_ans_check</sans>
                  <tans>true</tans>
                  <testoptions/>
                  <quiet>1</quiet>
                  <truescoremode>=</truescoremode>
                  <truescore>1.0000000</truescore>
                  <truepenalty>$@NULL@$</truepenalty>
                  <truenextnode>-1</truenextnode>
                  <trueanswernote>prt_b-1-T</trueanswernote>
                  <truefeedback/>
                  <truefeedbackformat>1</truefeedbackformat>
                  <falsescoremode>=</falsescoremode>
                  <falsescore>0.0000000</falsescore>
                  <falsepenalty>$@NULL@$</falsepenalty>
                  <falsenextnode>-1</falsenextnode>
                  <falseanswernote>prt_b-1-F</falseanswernote>
                  <falsefeedback>&lt;p&gt;The columns of \(B\) need to have unit magnitude, but with \({@v@}={@ans_b@}\) the magnitude of the second column is \[\sqrt{{@b_mat[1,2]@}^2+{@ans_b@}^2+{@b_mat[3,2]@}^2} = \sqrt{{@b_mat[1,2]^2+ans_b^2+b_mat[3,2]^2@}} = {@sqrt(b_mat[1,2]^2+ans_b^2+b_mat[3,2]^2)@} \neq 1.\]&lt;/p&gt;</falsefeedback>
                  <falsefeedbackformat>1</falsefeedbackformat>
                </stackprtnode>
              </stackprtnodes>
            </stackprt>
          </stackprts>
          <stackqtests>
            <stackqtest id="41114">
              <testcase>1</testcase>
              <timemodified>1593618793</timemodified>
              <stackqtestinputs>
                <stackqtestinput id="89126">
                  <inputname>ans_a</inputname>
                  <value>a_mat[1,1]</value>
                </stackqtestinput>
                <stackqtestinput id="89127">
                  <inputname>ans_b</inputname>
                  <value>1</value>
                </stackqtestinput>
              </stackqtestinputs>
              <stackqtestexpecteds>
                <stackqtestexpected id="77299">
                  <prtname>prt_a</prtname>
                  <expectedscore>1.0000000</expectedscore>
                  <expectedpenalty>0.0000000</expectedpenalty>
                  <expectedanswernote>prt_a-1-T</expectedanswernote>
                </stackqtestexpected>
                <stackqtestexpected id="77300">
                  <prtname>prt_b</prtname>
                  <expectedscore>1.0000000</expectedscore>
                  <expectedpenalty>0.0000000</expectedpenalty>
                  <expectedanswernote>prt_b-1-T</expectedanswernote>
                </stackqtestexpected>
              </stackqtestexpecteds>
            </stackqtest>
            <stackqtest id="41115">
              <testcase>2</testcase>
              <timemodified>1593618823</timemodified>
              <stackqtestinputs>
                <stackqtestinput id="89128">
                  <inputname>ans_a</inputname>
                  <value>0</value>
                </stackqtestinput>
                <stackqtestinput id="89129">
                  <inputname>ans_b</inputname>
                  <value>0</value>
                </stackqtestinput>
              </stackqtestinputs>
              <stackqtestexpecteds>
                <stackqtestexpected id="77301">
                  <prtname>prt_a</prtname>
                  <expectedscore>0.0000000</expectedscore>
                  <expectedpenalty>0.1000000</expectedpenalty>
                  <expectedanswernote>prt_a-1-F</expectedanswernote>
                </stackqtestexpected>
                <stackqtestexpected id="77302">
                  <prtname>prt_b</prtname>
                  <expectedscore>0.0000000</expectedscore>
                  <expectedpenalty>0.1000000</expectedpenalty>
                  <expectedanswernote>prt_b-1-F</expectedanswernote>
                </stackqtestexpected>
              </stackqtestexpecteds>
            </stackqtest>
            <stackqtest id="41116">
              <testcase>3</testcase>
              <timemodified>1593716778</timemodified>
              <stackqtestinputs>
                <stackqtestinput id="89130">
                  <inputname>ans_a</inputname>
                  <value>a</value>
                </stackqtestinput>
                <stackqtestinput id="89131">
                  <inputname>ans_b</inputname>
                  <value>-1</value>
                </stackqtestinput>
              </stackqtestinputs>
              <stackqtestexpecteds>
                <stackqtestexpected id="77303">
                  <prtname>prt_a</prtname>
                  <expectedscore>$@NULL@$</expectedscore>
                  <expectedpenalty>$@NULL@$</expectedpenalty>
                  <expectedanswernote>NULL</expectedanswernote>
                </stackqtestexpected>
                <stackqtestexpected id="77304">
                  <prtname>prt_b</prtname>
                  <expectedscore>1.0000000</expectedscore>
                  <expectedpenalty>0.0000000</expectedpenalty>
                  <expectedanswernote>prt_b-1-T</expectedanswernote>
                </stackqtestexpected>
              </stackqtestexpecteds>
            </stackqtest>
          </stackqtests>
          <stackdeployedseeds>
            <stackdeployedseed id="173851">
              <seed>1475625346</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173852">
              <seed>306760336</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173853">
              <seed>317651943</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173854">
              <seed>1667450243</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173855">
              <seed>702966124</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173856">
              <seed>1245053452</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173857">
              <seed>1952049461</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173858">
              <seed>1030001422</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173859">
              <seed>1212360488</seed>
            </stackdeployedseed>
            <stackdeployedseed id="173860">
              <seed>1614117515</seed>
            </stackdeployedseed>
          </stackdeployedseeds>
        </plugin_qtype_stack_question>
        <question_hints>
        </question_hints>
        <tags>
        </tags>
      </question>
      

</quiz>